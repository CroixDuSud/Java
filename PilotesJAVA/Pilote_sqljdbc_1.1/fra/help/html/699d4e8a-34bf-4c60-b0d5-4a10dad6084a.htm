<html DIR="LTR" xmlns:tool="http://www.microsoft.com/tooltip" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
  <head>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=Windows-1252" />
    <META NAME="save" CONTENT="history" />
    <title>Utilisation d'un regroupement de connexions</title>
    
    <link rel="stylesheet" type="text/css" href="../local/Classic.css">
      
    </link>
    
    <script src="../local/script_loc.js">
      
    </script>
    <script src="../local/script_main.js">
      
    </script>
  </head>
  <body style="display: none;">
    <!--Topic built:11/3/2006-->
<input type="hidden" id="userDataCache" class="userDataStyle">
    </input>
    <input type="hidden" id="hiddenScrollOffset">
    </input>
    <div id="header">
        <tr>
          <td align="left">
            <span id="headerBold">Utilisation d'un regroupement de connexions</span>
          </td>
        </tr>
      </table>
      <IMG id="SeeAlso1" style="display:none; height:0; width:0;" src="../local/SeeAlso1a.gif">
        
      </IMG>
      <IMG id="SeeAlso2" style="display:none; height:0; width:0;" src="../local/SeeAlso1c.gif">
        
      </IMG>
      <IMG id="Filter1" style="display:none; height:0; width:0;" src="../local/Filter1a.gif">
        
      </IMG>
      <IMG id="Filter2" style="display:none; height:0; width:0;" src="../local/Filter1c.gif">
        
      </IMG>
      <span style="display:none" id="languageSpan">
        <h1 class="heading">
          Langage
        </h1>
        <div id="selectLanguage" class="section">
          <div class="languageFilter" id="VisualBasic" onclick="ChangeLanguage(this.id)" onkeypress="ChangeLanguage_CheckKey(this.id)" tabindex="0">
            [Visual Basic]
          </div>
          <div class="languageFilter" id="CSharp" onclick="ChangeLanguage(this.id)" onkeypress="ChangeLanguage_CheckKey(this.id)" tabindex="0">
            [C#]
          </div>
          <div class="languageFilter" id="ManagedCPlusPlus" onclick="ChangeLanguage(this.id)" onkeypress="ChangeLanguage_CheckKey(this.id)" tabindex="0">
            [C++]
          </div>
          <div class="languageFilter" id="JSharp" onclick="ChangeLanguage(this.id)" onkeypress="ChangeLanguage_CheckKey(this.id)" tabindex="0">
            [J#]
          </div>
          <div class="languageFilter" id="JScript" onclick="ChangeLanguage(this.id)" onkeypress="ChangeLanguage_CheckKey(this.id)" tabindex="0">
            [JScript]
          </div>
          <div class="languageFilter" id="all" onclick="ChangeLanguage(this.id)" onkeypress="ChangeLanguage_CheckKey(this.id)" tabindex="0">
            (Afficher tout)
          </div>
        </div>
      </span>
    </div>
    <div id="mainSection">
      <div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()">
      </div>
      <font color="DarkGray"><!-- [This topic is pre-release documentation and is subject to change in future releases. Blank topics are included as placeholders.]<br/>[Documentation built on 11/3/2006]  --></font><p /><p />
      <div id="introductionSection" class="section">
    <p>Le pilote JDBC de Microsoft de SQL Server 2005 prend en charge la fonctionnalité de regroupement de connexions J2EE. Le pilote JDBC implémente les interfaces JDBC 3.0 requises pour permettre au pilote de participer à toute implémentation de regroupement de connexions fournie par des fournisseurs de logiciels intermédiaires compatibles JDBC 3.0. Des logiciels intermédiaires tels que des serveurs d'applications J2EE offrent souvent des fonctionnalités de regroupement de connexions compatibles. Le pilote JDBC prendra part à des connexions regroupées dans ces environnements.</p>
    <div style="margin: .5em 1.5em .5em 1.5em"><b>Remarque : </b>
      Même si le pilote JDBC prend en charge la fonctionnalité de regroupement de connexions J2EE, il ne fournit pas sa propre implémentation de regroupement.<p></p>
    </div>
    <p>Les classes pour l'implémentation du regroupement de connexions sont les suivantes.</p>
    <h2 class="heading"></h2><table cellspacing="0" cellpadding="0" border="1" style="background-color: #CCCCCC;"><tr>
          <th>
            Classe
          </th>
          <th>
            Implémentation
          </th>
          <th>
            Description
          </th>
        </tr><tr>
        <td>
          <p>com.microsoft.sqlserver.jdbc.SQLServerXADataSource</p>
        </td>
        <td>
          <p>javax.sql.ConnectionPoolDataSource et javax.sql.XADataSource</p>
        </td>
        <td>
          <p>Il est recommandé d'utiliser la classe <a href="95fc7b07-2498-4a7e-8f7f-ee0d86b598b4.htm">SQLServerXADataSource</a> pour tous les besoins de serveur J2EE car elle implémente le regroupement JDBC 3.0 et les interfaces XA.</p>
        </td>
      </tr><tr>
        <td>
          <p>com.microsoft.sqlserver.jdbc.SQLServerConnectionPoolDataSource</p>
        </td>
        <td>
          <p>javax.sql.ConnectionPoolDataSource</p>
        </td>
        <td>
          <p>Cette classe est une fabrique de connexions qui permet au serveur d'applications J2EE de peupler son regroupement de connexions à l'aide de connexions physiques. Si la configuration du fournisseur de J2EE requiert une classe implémentant javax.sql.ConnectionPoolDataSource, définissez le nom de classe comme <a href="b00e5a90-2af7-4d04-8ef8-256183777dcf.htm">SQLServerConnectionPoolDataSource</a>. En règle générale, il est recommandé d'utiliser plutôt la classe <a href="95fc7b07-2498-4a7e-8f7f-ee0d86b598b4.htm">SQLServerXADataSource</a> car elle implémente le regroupement et les interfaces XA et elle a été vérifiée dans plusieurs configurations de serveur J2EE.</p>
        </td>
      </tr></table>
    <p>Le code d'application JDBC doit toujours fermer les connexions de façon explicite afin de profiter au maximum du regroupement. Si l'application ferme explicitement une connexion, l'implémentation du regroupement peut réutiliser la connexion immédiatement. Si la connexion n'est pas fermée, d'autres applications ne peuvent pas la réutiliser. Des applications peuvent utiliser la construction <code> finally </code> pour s'assurer que les connexions regroupées sont fermées même en cas d'exception. </p>
    <div style="margin: .5em 1.5em .5em 1.5em"><b>Remarque : </b>
      Le pilote JDBC n'appelle pas actuellement la procédure stockée sp_reset_connection lorsqu'il retourne la connexion au regroupement. Au lieu de cela, le pilote recourt à des serveurs d'applications Java tiers pour rétablir les connexions à leur état original.<p></p>
    </div>
  </div>
      <span id="seeAlsoSpan">
        <h1 class="heading">
          Voir aussi
        </h1>
        <div id="seeAlsoSection" class="section">
          <a href="94bcfbe3-f00e-4774-bda8-bb7577518fec.htm">Connexion à SQL Server à l'aide du pilote JDBC</a>
        </div>
      </span>
      <!--[if gte IE 5]>
			<tool:tip element="seeAlsoToolTip" avoidmouse="false"/><tool:tip element="languageFilterToolTip" avoidmouse="false"/>
		<![endif]-->
      <div id="footer" class="section">
        <hr /><A NAME="feedback"></A><span id="fb" class="feedbackcss"></span>
		<a href="9bad553b-9e70-4696-8499-2e35f772a1e0.htm">
			
			© 2006 Microsoft Corporation. Tous droits réservés.
		</a>
 	
      </div>
    </div>
  </body>
</html>