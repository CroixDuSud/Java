<html DIR="LTR" xmlns:tool="http://www.microsoft.com/tooltip" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
  <head>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=Windows-1252" />
    <META NAME="save" CONTENT="history" />
    <title>Création de l'URL de connexion</title>
    
    <link rel="stylesheet" type="text/css" href="../local/Classic.css">
      
    </link>
    
    <script src="../local/script_loc.js">
      
    </script>
    <script src="../local/script_main.js">
      
    </script>
  </head>
  <body style="display: none;">
    <!--Topic built:11/3/2006-->
<input type="hidden" id="userDataCache" class="userDataStyle">
    </input>
    <input type="hidden" id="hiddenScrollOffset">
    </input>
    <div id="header">
        <tr>
          <td align="left">
            <span id="headerBold">Création de l'URL de connexion</span>
          </td>
        </tr>
      </table>
      <IMG id="SeeAlso1" style="display:none; height:0; width:0;" src="../local/SeeAlso1a.gif">
        
      </IMG>
      <IMG id="SeeAlso2" style="display:none; height:0; width:0;" src="../local/SeeAlso1c.gif">
        
      </IMG>
      <IMG id="Filter1" style="display:none; height:0; width:0;" src="../local/Filter1a.gif">
        
      </IMG>
      <IMG id="Filter2" style="display:none; height:0; width:0;" src="../local/Filter1c.gif">
        
      </IMG>
      <span style="display:none" id="languageSpan">
        <h1 class="heading">
          Langage
        </h1>
        <div id="selectLanguage" class="section">
          <div class="languageFilter" id="VisualBasic" onclick="ChangeLanguage(this.id)" onkeypress="ChangeLanguage_CheckKey(this.id)" tabindex="0">
            [Visual Basic]
          </div>
          <div class="languageFilter" id="CSharp" onclick="ChangeLanguage(this.id)" onkeypress="ChangeLanguage_CheckKey(this.id)" tabindex="0">
            [C#]
          </div>
          <div class="languageFilter" id="ManagedCPlusPlus" onclick="ChangeLanguage(this.id)" onkeypress="ChangeLanguage_CheckKey(this.id)" tabindex="0">
            [C++]
          </div>
          <div class="languageFilter" id="JSharp" onclick="ChangeLanguage(this.id)" onkeypress="ChangeLanguage_CheckKey(this.id)" tabindex="0">
            [J#]
          </div>
          <div class="languageFilter" id="JScript" onclick="ChangeLanguage(this.id)" onkeypress="ChangeLanguage_CheckKey(this.id)" tabindex="0">
            [JScript]
          </div>
          <div class="languageFilter" id="all" onclick="ChangeLanguage(this.id)" onkeypress="ChangeLanguage_CheckKey(this.id)" tabindex="0">
            (Afficher tout)
          </div>
        </div>
      </span>
    </div>
    <div id="mainSection">
      <div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()">
      </div>
      <font color="DarkGray"><!-- [This topic is pre-release documentation and is subject to change in future releases. Blank topics are included as placeholders.]<br/>[Documentation built on 11/3/2006]  --></font><p /><p />
      <div id="introductionSection" class="section">
    <p>La forme générale d'une URL de connexion est</p>
    <p><code>jdbc:sqlserver://serverName;instanceName:portNumber;property=value[;property=value]</code></p>
    <p>où :</p>
    <ul><li>
        <b>jdbc:sqlserver://</b> (obligatoire) constitue le sous-protocole et sa constante. <br></br>
      </li><li>
        <b>serverName</b> (facultatif) correspond à l'adresse du serveur auquel se connecter. Il peut s'agir d'une adresse DNS ou IP, de localhost ou de 127.0.0.1 pour l'ordinateur local. S'il n'est pas spécifié dans l'URL de connexion, le nom du serveur doit être spécifié dans la collection de propriétés.<br></br>
      </li><li>
        <b>instanceName</b> (facultatif) est l'instance à connecter à serverName. Si cette valeur n'est pas spécifiée, une connexion à l'instance par défaut est établie.<br></br>
      </li><li>
        <b>portNumber</b> (facultatif) est le port à connecter à serverName. La valeur par défaut est 1433. Pour l'utiliser comme valeur par défaut, vous ne devez pas spécifier le port, ni le signe « : » qui précède, dans l'URL.<br></br>
        <div style="margin: .5em 1.5em .5em 1.5em"><b>Remarque : </b>
          Pour des performances de connexion optimales, vous devez définir la valeur de portNumber lors de la connexion à une instance nommée. Cela permet d'éviter une boucle avec le serveur pour déterminer le numéro du port. Si un portNumber et un instanceName sont utilisés, le portNumber aura la priorité et l'instanceName sera ignoré.<p></p>
        </div>
      </li><li>
        <b>property</b> (facultatif) indique une ou plusieurs propriétés de connexion. Pour plus d'informations, voir <a href="f1b62700-f046-488d-bd6b-a5cd8fc345b7.htm">Définition des propriétés de connexion</a>. Vous pouvez spécifier n'importe quelle propriété de la liste. Les propriétés ne peuvent être séparées que par des points-virgules (« ; ») et ne peuvent pas être dupliquées. <br></br>
      </li></ul>
    <div style="margin: .5em 1.5em .5em 1.5em"><b>Attention : </b>
      Pour des raisons de sécurité, il convient d'éviter de créer les URL de connexion en se basant sur des entrées utilisateur. Il est préférable de spécifier uniquement le nom du serveur et le pilote dans l'URL. Pour les valeurs de nom d'utilisateur et de mot de passe, utilisez des collections de propriétés de connexion. Pour plus d'informations sur la sécurité de vos applications JDBC, voir <a href="90724ec6-a9cb-43ef-903e-793f89410bc0.htm">Sécurisation d'applications de pilote JDBC</a>.<p></p>
    </div>
  </div>
      <h1 class="heading">Exemples de connexion</h1>
      <div id="sectionSection" class="section">
        <content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
      <p xmlns="">Connectez-vous à la base de données par défaut sur l'ordinateur local à l'aide d'un nom d'utilisateur et d'un mot de passe :</p>
      <p xmlns=""><code>jdbc:sqlserver://localhost;user=MyUserName;password=*****;</code></p>
      <div style="margin: .5em 1.5em .5em 1.5em" xmlns=""><b>Remarque : </b>
        Bien que l'exemple précédent utilise un nom d'utilisateur et un mot de passe dans la chaîne de connexion, si vous exécutez votre application sur un système d'exploitation Windows, vous devez utiliser une sécurité intégrée, pour mieux sécuriser. Pour plus d'informations, voir la section <b>Connexion avec une authentification intégrée</b> plus loin dans cette rubrique.<p></p>
      </div>
      <p xmlns="">Connexion à la base de données par défaut sur l'ordinateur local à l'aide d'une authentification intégrée :</p>
      <p xmlns=""><code>jdbc:sqlserver://localhost;integratedSecurity=true;</code></p>
      <p xmlns="">Connexion à une base de données nommée sur un serveur distant :</p>
      <p xmlns=""><code>jdbc:sqlserver://localhost;databaseName=AdventureWorks;integratedSecurity=true;</code></p>
      <p xmlns="">Connexion au port par défaut du serveur distant :</p>
      <p xmlns=""><code>jdbc:sqlserver://localhost:1433;databaseName=AdventureWorks;integratedSecurity=true;</code></p>
      <p xmlns="">Connexion en spécifiant un nom d'application personnalisé :</p>
      <p xmlns=""><code>jdbc:sqlserver://localhost;databaseName=AdventureWorks;integratedSecurity=true;applicationName=MyApp;</code></p>
    </content>
      </div>
      <h1 class="heading">Instances SQL Server nommées et multiples</h1>
      <div id="sectionSection" class="section">
        <content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
      <p xmlns="">SQL Server 2000 et SQL Server 2005 permettent d'installer plusieurs instances de base de données par serveur. Chaque instance est identifiée par un nom spécifique. Pour établir une connexion à une instance nommée de SQL Server, vous pouvez soit spécifier le numéro de port de l'instance nommée (recommandé), soit spécifier le nom d'instance comme propriété d'URL JDBC ou propriété <b>datasource</b>. Si aucune propriété de nom d'instance ou de numéro de port n'est spécifiée, une connexion à l'instance par défaut est établie. Voir les exemples suivants :</p>
      <p xmlns="">Pour utiliser un numéro de port, procédez comme suit :</p>
      <p xmlns=""><code>jdbc:sqlserver://localhost:1433;integratedSecurity=true;&lt;more properties as required&gt;;</code></p>
      <p xmlns="">Pour utiliser une propriété d'URL JDBC, procédez comme suit :</p>
      <p xmlns=""><code>jdbc:sqlserver://localhost;instanceName=instance1;integratedSecurity=true;&lt;more properties as required&gt;;</code></p>
    </content>
      </div>
      <h1 class="heading">Échappement de valeurs dans l'URL de connexion</h1>
      <div id="sectionSection" class="section">
        <content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
      <p xmlns="">Il se peut que vous deviez procéder à l'échappement de certaines parties des valeurs d'URL de connexion en raison de l'inclusion de caractères spéciaux tels que des espaces, des points-virgules ou des points d'interrogation. Le pilote JDBC prend en charge l'échappement de ces caractères s'ils sont placés entre accolades. Par exemple, {;} échappe un point-virgule.</p>
      <p xmlns="">Les valeurs d'échappement peuvent contenir des caractères spéciaux (« = », « ; », « [] » ou un espace) mais ne peuvent pas contenir d'accolades. Les valeurs qui doivent être échappées et qui contiennent des accolades doivent être ajoutées à une collection de propriétés.</p>
      <div style="margin: .5em 1.5em .5em 1.5em" xmlns=""><b>Remarque : </b>
        Un espace vide entre les accolades est un littéral qui n'est pas supprimé.<p></p>
      </div>
    </content>
      </div>
      <h1 class="heading">Connexion avec une authentification intégrée</h1>
      <div id="sectionSection" class="section">
        <content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
      <p xmlns="">Le pilote JDBC prend en charge l'utilisation d'une authentification intégrée de type 2 sur les systèmes d'exploitation Windows via la propriété de chaîne de connexion integratedSecurity. Pour utiliser l'authentification intégrée, copiez le fichier sqljdbc_auth.dll dans un répertoire sur le chemin du système Windows de l'ordinateur sur lequel le pilote JDBC est installé. </p>
      <p xmlns="">Les fichiers sqljdbc_auth.dll sont installés à l'emplacement suivant :</p>
      <p xmlns="">&lt;<i>répertoire d'installation</i>&gt;\sqljdbc_&lt;<i>version</i>&gt;\&lt;<i>langue</i>&gt;\auth\</p>
      <div style="margin: .5em 1.5em .5em 1.5em" xmlns=""><b>Remarque : </b>
        Sur un processeur 32 bits, utilisez le fichier sqljdbc_auth.dll dans le dossier x86. Sur un processeur 64 bits, utilisez le fichier sqljdbc_auth.dll dans le dossier x64.<p></p>
      </div>
      <p xmlns="">Autrement, vous pouvez définir la propriété système java.libary.path pour spécifier le répertoire de sqljdbc_auth.dll. Par exemple, si le pilote JDBC est installé dans le répertoire par défaut, vous pouvez spécifier l'emplacement du DLL à l'aide de l'argument de la machine virtuelle suivante lors du démarrage de l'application Java : </p>
      <p xmlns=""><code>-Djava.library.path=C:\Microsoft SQL Server 2005 JDBC Driver\sqljdbc_&lt;version&gt;\enu\auth\x86</code></p>
    </content>
      </div>
      <h1 class="heading">Connexion à l'aide d'adresses IPv6</h1>
      <div id="sectionSection" class="section">
        <content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
      <p xmlns="">Le pilote JDBC prend en charge l'utilisation d'adresses IPv6 avec la collection de propriétés de connexion et avec la propriété de chaîne de connexion serverName. La valeur serverName initiale, telle que jdbc :<i>sqlserver</i>://<i>serverName</i>, n'est pas prise en charge pour les adresses IPv6 figurant dans des chaînes de connexion. L'utilisation d'un nom au lieu d'une adresse IPv6 brute pour <i>serverName</i> fonctionne dans tous les cas dans la connexion. Les exemples suivants fournissent des informations complémentaires.</p>
      <p xmlns=""><b>Pour utiliser la propriété serverName</b></p>
      <p xmlns=""><code>jdbc:sqlserver://;serverName=3ffe:8311:eeee:f70f:0:5eae:10.203.31.9\\instance1;integratedSecurity=true;</code></p>
      <p xmlns=""><b>Pour utiliser la collection de propriétés</b></p>
      <p xmlns=""><code>Properties pro = new Properties();</code></p>
      <p xmlns=""><code>pro.setProperty("serverName", "serverName=3ffe:8311:eeee:f70f:0:5eae:10.203.31.9\\instance1");</code></p>
      <p xmlns=""><code>Connection con = DriverManager.getConnection("jdbc:sqlserver://;integratedSecurity=true;", pro);</code></p>
    </content>
      </div>
      <span id="seeAlsoSpan">
        <h1 class="heading">
          Voir aussi
        </h1>
        <div id="seeAlsoSection" class="section">
          <a href="94bcfbe3-f00e-4774-bda8-bb7577518fec.htm">Connexion à SQL Server à l'aide du pilote JDBC</a>
        </div>
      </span>
      <!--[if gte IE 5]>
			<tool:tip element="seeAlsoToolTip" avoidmouse="false"/><tool:tip element="languageFilterToolTip" avoidmouse="false"/>
		<![endif]-->
      <div id="footer" class="section">
        <hr /><A NAME="feedback"></A><span id="fb" class="feedbackcss"></span>
		<a href="9bad553b-9e70-4696-8499-2e35f772a1e0.htm">
			
			© 2006 Microsoft Corporation. Tous droits réservés.
		</a>
 	
      </div>
    </div>
  </body>
</html>